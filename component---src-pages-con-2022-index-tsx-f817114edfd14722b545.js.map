{"version":3,"sources":["webpack:///./src/con/components/2022/Partners/index.tsx","webpack:///./src/con/hooks/useEventBriteModal.tsx","webpack:///./src/con/components/2022/BuyButton.tsx","webpack:///./src/con/data/2022/partners.ts","webpack:///./src/pages/con/2022/index.tsx","webpack:///./src/con/data/2022/nav.ts","webpack:///./src/con/data/2022/footer.ts","webpack:///./src/con/data/2022/prices.ts","webpack:///./src/con/data/2022/meta.ts","webpack:///./src/con/components/2022/layout/index.tsx"],"names":["Partners","data","edition","useContext","ConfContext","sponsors","filter","s","rank","partners","className","section","map","name","logo","link","key","autosize","padding","href","title","target","rel","width","height","loading","src","alt","useEventBriteModal","id","isEventBriteLoaded","useState","isWidgetCreated","setIsWidgetCreated","useLayoutEffect","window","EBWidgets","createWidget","widgetType","eventId","modal","modalTriggerElementId","BuyButton","children","props","BuyButtonContainer","currentEdition","Conf2022","Helmet","titleTemplate","TITLE","property","content","Cover","date","baseline","button","Button","to","Speakers","numberVisibles","Venue","subtitle","PartnersData","Contact","nav","logoLink","backLink","text","links","mobileOnly","footer","prices","languages","offers","price","limitDate","startDate","meta","DESCRIPTION","OG_IMAGE","process","URL","Layout","logoAlwaysVisible","offersData","sortedOffers","sort","a","b","dayjs","isAfter","activeOffer","find","offer","length","availability","priceCurrency","url","validFrom","eventData","description","eventStatus","eventAttendanceMode","endDate","organizer","location","address","addressLocality","addressRegion","postalCode","streetAddress","image","pathname","useLocation","sectionsVisibles","setSectionsVisibles","activeLink","useMemo","lastSectionVisible","useEffect","history","replaceState","setIsEventBriteLoaded","document","createElement","onload","body","appendChild","Provider","value","SectionsContext","type","JSON","stringify","defer","LayoutBase","navButton","size"],"mappings":"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","file":"component---src-pages-con-2022-index-tsx-f817114edfd14722b545.js","sourcesContent":["import React, { useContext } from 'react';\nimport { Grid, GridItem } from '@components/common/Grid';\nimport Section from '@con/components/common/Section';\nimport { Partner } from 'src/con/types';\nimport SectionTitle from '@con/components/common/SectionTitle';\nimport { ConfContext } from '@con/components/layout';\n\ninterface PartnersProps {\n  data: Partner[];\n}\n\nconst Partners: React.ComponentType<PartnersProps> = ({ data }) => {\n  const { edition } = useContext(ConfContext);\n  const sponsors = data.filter((s) => 6 > s.rank);\n  const partners = data.filter((s) => 6 <= s.rank);\n  return (\n    <Section className=\"conf__partners\" section=\"partners\">\n      <div className=\"container\">\n        <SectionTitle>\n          Our <strong>partners</strong>\n        </SectionTitle>\n        <div className=\"partners__section partners__bronze\">\n          <Grid>\n            {sponsors.map(({ name, logo, link }) => (\n              <GridItem key={name} autosize padding={20} className=\"partners__item\">\n                <a href={link} title={`${name}`} key={name} target=\"_blank\" rel=\"nofollow noreferrer noopener\">\n                  <img\n                    width=\"200\"\n                    height=\"200\"\n                    loading=\"lazy\"\n                    src={`/con/${edition}/partners/${logo}.png`}\n                    alt={name}\n                  />\n                </a>\n              </GridItem>\n            ))}\n          </Grid>\n        </div>\n        <div className=\"partners__section partners__partners\">\n          <Grid>\n            {partners.map(({ name, logo, link }) => (\n              <GridItem key={name} autosize padding={20} className=\"partners__item\">\n                <a href={link} title={`${name}`} key={name} target=\"_blank\" rel=\"nofollow noreferrer noopener\">\n                  <img\n                    width=\"200\"\n                    height=\"200\"\n                    loading=\"lazy\"\n                    src={`/con/${edition}/partners/${logo}.png`}\n                    alt={name}\n                  />\n                </a>\n              </GridItem>\n            ))}\n          </Grid>\n        </div>\n        <div className=\"partners__section\">\n          <a\n            className=\"conf__button square empty\"\n            href=\"mailto:events@les-tilleuls.coop\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Become sponsor\n          </a>\n        </div>\n      </div>\n    </Section>\n  );\n};\n\nexport default Partners;\n","import { useLayoutEffect, useContext, useState } from 'react';\nimport { ConfContext } from '@con/components/layout';\n\nconst useEventBriteModal: (id: string) => void = (id) => {\n  const { isEventBriteLoaded } = useContext(ConfContext);\n  const [isWidgetCreated, setIsWidgetCreated] = useState(false);\n\n  useLayoutEffect(() => {\n    if (isEventBriteLoaded && !isWidgetCreated) {\n      // @ts-expect-error eventbrite widget\n      window.EBWidgets?.createWidget({\n        widgetType: 'checkout',\n        eventId: '483719928327',\n        modal: true,\n        modalTriggerElementId: id,\n      });\n      setIsWidgetCreated(true);\n    }\n  }, [isEventBriteLoaded, id, isWidgetCreated, setIsWidgetCreated]);\n};\n\nexport default useEventBriteModal;\n","import React, { useContext } from 'react';\nimport { currentEdition } from '@con/data/editions';\nimport useEventBriteModal from '@con/hooks/useEventBriteModal';\nimport Button, { ButtonProps } from '@con/components/common/Button';\nimport { ConfContext } from '../layout';\n\ninterface BuyButtonProps extends ButtonProps {\n  id: string;\n}\n\nconst BuyButton: React.ComponentType<BuyButtonProps> = ({ children, id, ...props }) => {\n  useEventBriteModal(id);\n\n  return (\n    <Button id={id} {...props}>\n      {children}\n    </Button>\n  );\n};\n\nconst BuyButtonContainer: React.ComponentType<BuyButtonProps> = (props) => {\n  const { edition } = useContext(ConfContext);\n  if (edition !== currentEdition) return <></>;\n  return <BuyButton {...props} />;\n};\n\nexport default BuyButtonContainer;\n","import { Partner } from '@con/types';\n\nconst partners: Partner[] = [\n  {\n    name: 'France tv',\n    logo: 'france-tv',\n    link: 'https://www.francetelevisions.fr/',\n    rank: 1,\n  },\n  {\n    name: 'SensioLabs',\n    logo: 'sensiolabs',\n    link: 'https://sensiolabs.com/fr/',\n    rank: 2,\n  },\n  {\n    name: \"Alice's garden\",\n    logo: 'alice-garden',\n    link: 'https://www.alicesgarden.fr/',\n    rank: 2,\n  },\n  {\n    name: 'LinkValue',\n    logo: 'linkvalue',\n    link: 'https://link-value.fr/',\n    rank: 2,\n  },\n  {\n    name: 'Platform.sh',\n    logo: 'platform-sh',\n    link: 'https://platform.sh/',\n    rank: 2,\n  },\n  {\n    name: 'Clever Cloud',\n    logo: 'clever-cloud',\n    link: 'https://www.clever-cloud.com/',\n    rank: 2,\n  },\n  {\n    name: 'Rapid Flyer',\n    logo: 'rapid-flyer',\n    link: 'https://www.rapid-flyer.com/',\n    rank: 3,\n  },\n  {\n    name: 'Fairness',\n    logo: 'fairness',\n    link: 'https://fairness.coop/',\n    rank: 4,\n  },\n  {\n    name: 'Euratechnologies',\n    logo: 'euratechnologies',\n    link: 'https://www.euratechnologies.com/',\n    rank: 5,\n  },\n  {\n    name: 'Sticker mule',\n    logo: 'sticker-mule',\n    link: 'https://mule.to/p33m',\n    rank: 5,\n  },\n];\n\nexport default partners;\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport Cover from '@con/components/2021/Cover';\nimport Partners from '@con/components/2022/Partners';\nimport Speakers from '@con/components/2021/Speakers';\nimport Layout from '@con/components/2022/layout';\nimport Venue from '@con/components/2021/Venue';\nimport Contact from '@con/components/2021/Contact';\nimport PartnersData from '@con/data/2022/partners';\nimport '@con/styles/home/index.scss';\nimport { TITLE } from '@con/data/meta';\nimport Button from '@con/components/common/Button';\n\nconst Conf2022: React.ComponentType = () => {\n  return (\n    <Layout>\n      <Helmet titleTemplate=\"\">\n        <title>{`${TITLE}: meet the best API experts!`}</title>\n        <meta property=\"og:title\" content={`${TITLE}: meet the best API experts!`} />\n        <meta name=\"twitter:title\" content={`${TITLE}: meet the best API experts!`} />\n      </Helmet>\n      <Cover\n        date=\"September 15 - 16, 2022 | Lille & online\"\n        baseline=\"The only event dedicated to API Platform and its ecosystem\"\n        button={<Button to=\"/con\">{`< Back to current edition`}</Button>}\n      />\n      <Speakers numberVisibles={12}>\n        <p className=\"conf__section-subtitle\">Discover our amazing international speakers!</p>\n      </Speakers>\n      <div className=\"pt-50\">\n        <Venue\n          subtitle=\" The on-site edition will take place in Lille, meeting point of European cities and touristic capital of the\n        Flemish region. If you can't attend the event physically, you can watch both tracks online.\"\n        />\n      </div>\n      <Partners data={PartnersData} />\n\n      <Contact />\n    </Layout>\n  );\n};\n\nexport default Conf2022;\n","const nav = {\n  logoLink: '/',\n  backLink: {\n    to: '/con/',\n    text: 'Back to current edition',\n  },\n  links: [\n    {\n      to: '/con/2022/',\n      text: 'Home',\n      mobileOnly: true,\n    },\n    {\n      to: '/con/2022/speakers',\n      text: 'Speakers',\n    },\n    {\n      to: '/con/2022/#venue',\n      text: 'Venue',\n    },\n    {\n      to: '/con/2022/schedule',\n      text: 'Schedule',\n    },\n    {\n      to: '/con/2022/review',\n      text: 'Review',\n    },\n  ],\n};\n\nexport default nav;\n","const footer = [\n  {\n    title: 'Previous edition',\n    links: [\n      {\n        title: '2021 review',\n        link: '/con/2021/review',\n      },\n      {\n        title: '2021 archive',\n        link: '/con/2021/',\n      },\n    ],\n  },\n  {\n    title: 'The event',\n    links: [\n      {\n        title: 'Speakers',\n        link: '/con/2022/speakers',\n      },\n      {\n        title: 'Venue',\n        link: '/con/2022/#venue',\n      },\n      {\n        title: 'Schedule',\n        link: '/con/2022/schedule',\n      },\n    ],\n  },\n  {\n    title: 'Legal',\n    links: [\n      {\n        title: 'Code of conduct',\n        link: '/con/2022/code-of-conduct',\n      },\n      {\n        title: 'FAQ',\n        link: '/con/2022/faq',\n      },\n      {\n        title: 'Transparency',\n        link: '/con/2022/transparency',\n      },\n    ],\n  },\n];\n\nexport default footer;\n","import { Price } from '@con/types';\n\nconst prices: Price[] = [\n  {\n    id: 1,\n    title: 'Conference',\n    languages: 'French and english-speaking tracks',\n    offers: [\n      {\n        title: '2 days on-site event',\n        price: 129,\n        limitDate: '2022-08-20',\n      },\n      {\n        title: '1-day on-site event',\n        price: 89,\n        limitDate: '2022-08-20',\n      },\n      {\n        title: '2 days on-site event',\n        price: 169,\n        startDate: '2022-08-21',\n      },\n      {\n        title: '1-day on-site event',\n        price: 109,\n        startDate: '2022-08-21',\n      },\n      {\n        title: 'Online ticket',\n        price: 59,\n      },\n    ],\n  },\n  {\n    id: 2,\n    title: 'Workshops',\n    languages: 'Learn the best of API Platform 3',\n    offers: [\n      {\n        title: 'Workshop API Platform 3',\n        price: 500,\n      },\n      {\n        title: 'Workshop DDD',\n        price: 500,\n      },\n      {\n        title: '2-days workshops',\n        price: 800,\n      },\n      {\n        title: 'Full package: 2 workshops and 2-days conference',\n        price: 900,\n      },\n    ],\n  },\n];\n\nexport default prices;\n","export const TITLE = 'API Platform Conference 2022';\nexport const DESCRIPTION = 'The international conference dedicated to API Platform and its ecosystem';\nexport const OG_IMAGE = `${process.env.GATSBY_ROOT_URL}/conf-facebook-2022.png`;\nexport const URL = 'https://api-platform.com/con/2022/';\nconst meta = {\n  TITLE,\n  DESCRIPTION,\n  OG_IMAGE,\n  URL,\n};\n\nexport default meta;\n","import React, { useState, useMemo, useEffect, PropsWithChildren } from 'react';\nimport dayjs from 'dayjs';\nimport Helmet from 'react-helmet';\nimport nav from '@con/data/2022/nav';\nimport footer from '@con/data/2022/footer';\nimport prices from '@con/data/2022/prices';\nimport { ConfContext } from '@con/components/layout';\nimport SectionsContext from '@con/contexts/SectionsContext';\nimport { useLocation } from '@reach/router';\nimport meta from '@con/data/2022/meta';\nimport LayoutBase from '@con/components/layout/LayoutBase';\nimport BuyButton from '@con/components/2022/BuyButton';\n\ninterface LayoutProps extends PropsWithChildren {\n  logoAlwaysVisible?: boolean;\n}\n\nconst Layout: React.ComponentType<LayoutProps> = ({ logoAlwaysVisible, children }) => {\n  const offersData = prices.map((price) => {\n    const sortedOffers = price.offers.sort((a, b) => {\n      if (dayjs(a.limitDate).isAfter(dayjs(b.limitDate))) return 1;\n      if (dayjs(b.limitDate).isAfter(dayjs(a.limitDate))) return -1;\n      return 0;\n    });\n    const activeOffer =\n      sortedOffers.find((offer) => dayjs(offer.limitDate).isAfter(dayjs())) || sortedOffers[sortedOffers.length - 1];\n    return {\n      '@type': 'Offer',\n      availability: 'https://schema.org/SoldOut',\n      price: `${activeOffer.price}.00`,\n      name: 1 === price.offers.length ? price.title : `${price.title} - ${activeOffer.title}`,\n      priceCurrency: 'EUR',\n      url: 'https://www.eventbrite.fr/e/api-platform-conference-2022-tickets-304104152707',\n      validFrom: '2022-04-07',\n    };\n  });\n\n  const eventData = {\n    '@context': 'https://schema.org',\n    '@type': 'Event',\n    name: 'API Platform Conference 2022',\n    description: 'The international conference dedicated to API Platform and its ecosystem',\n    url: 'https://api-platform.com/con/2022/',\n    eventStatus: 'http://schema.org/EventScheduled',\n    eventAttendanceMode: 'https://schema.org/MixedEventAttendanceMode',\n    startDate: '2022-09-15',\n    endDate: '2022-09-16',\n    organizer: {\n      '@type': 'Organization',\n      name: 'Les-Tilleuls.coop',\n      url: 'https://les-tilleuls.coop/en',\n    },\n    location: [\n      {\n        '@type': 'Place',\n        name: 'Euratechnologies',\n        address: {\n          '@type': 'PostalAddress',\n          addressLocality: 'Lille',\n          addressRegion: 'Hauts de France',\n          postalCode: '59000',\n          streetAddress: 'Place de Saintignon, 165 avenue de Bretagne',\n        },\n      },\n      {\n        '@type': 'VirtualLocation',\n        url: 'https://api-platform.com/con/2022/',\n      },\n    ],\n    image: meta.OG_IMAGE,\n    offers: offersData,\n  };\n\n  // anchors handler\n  const { pathname } = useLocation();\n  const [sectionsVisibles, setSectionsVisibles] = useState<string[]>([]);\n  const activeLink = useMemo(() => {\n    const lastSectionVisible = sectionsVisibles?.[sectionsVisibles.length - 1];\n    if (!lastSectionVisible || 'home' === lastSectionVisible) return pathname;\n    return sectionsVisibles.length ? `${pathname}#${sectionsVisibles[sectionsVisibles.length - 1]}` : pathname;\n  }, [sectionsVisibles, pathname]);\n\n  useEffect(() => {\n    window.history.replaceState({}, '', activeLink);\n  }, [activeLink]);\n\n  const [isEventBriteLoaded, setIsEventBriteLoaded] = useState(false);\n\n  useEffect(() => {\n    const s = document.createElement('script');\n    s.src = 'https://www.eventbrite.com/static/widgets/eb_widgets.js';\n    s.onload = () => {\n      setIsEventBriteLoaded(true);\n    };\n    document.body.appendChild(s);\n  }, [setIsEventBriteLoaded]);\n\n  return (\n    <ConfContext.Provider value={{ nav, activeLink, edition: '2022', isEventBriteLoaded }}>\n      <SectionsContext.Provider value={{ sectionsVisibles, setSectionsVisibles }}>\n        <Helmet>\n          <script type=\"application/ld+json\">{JSON.stringify(eventData)}</script>\n          <script defer src=\"https://unpkg.com/smoothscroll-polyfill/dist/smoothscroll.min.js\" />\n        </Helmet>\n        <LayoutBase\n          edition=\"2022\"\n          meta={meta}\n          logoAlwaysVisible={logoAlwaysVisible}\n          footer={footer}\n          navButton={\n            <BuyButton className=\"pink\" size=\"small\" id=\"nav\">\n              Buy tickets\n            </BuyButton>\n          }\n        >\n          {children}\n        </LayoutBase>\n      </SectionsContext.Provider>\n    </ConfContext.Provider>\n  );\n};\n\nexport default Layout;\n"],"sourceRoot":""}